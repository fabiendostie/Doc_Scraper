Title: Plex in Docker on a Synology NAS (No Hardware Transcoding)
URL: https://drfrankenstein.co.uk/plex-in-container-manager-on-a-synology-nas-no-hardware-transcoding/

<details class="wp-block-details has-vivid-red-color has-text-color has-regular-font-size is-layout-flow wp-block-details-is-layout-flow"><summary>Important or Recent Updates</summary>
<figure class="wp-block-table is-style-stripes"><table class="has-black-color has-text-color"><thead><tr><th class="has-text-align-left" data-align="left"><strong><strong>Historic Updates</strong></strong></th><th class="has-text-align-left" data-align="left"><strong>Date</strong></th></tr></thead><tbody><tr><td class="has-text-align-left" data-align="left">New DSM7.2 Container Manager Update</td><td class="has-text-align-left" data-align="left">01/05/2023</td></tr><tr><td class="has-text-align-left" data-align="left">Guide rewritten moving to a Project rather than the slower method via the UI giving you more flexibility. Also includes updates to improve security which is only possible via projects.</td><td class="has-text-align-left" data-align="left">25/10/2023</td></tr><tr><td class="has-text-align-left" data-align="left">Somehow at some point a paragraph about forwarding port 32400 went missing, I had never added it! But it’s in now!!</td><td class="has-text-align-left" data-align="left">13/06/2024</td></tr><tr><td class="has-text-align-left" data-align="left">Changed ‘version’ variable to ‘docker’ this will stop in container server updates!</td><td class="has-text-align-left" data-align="left">01/07/2024</td></tr><tr><td class="has-text-align-left" data-align="left">Reworded the first section to check around whether you have a hardware capable NAS and to follow the other guide even if you don’t have a Plex Pass. </td><td class="has-text-align-left" data-align="left">08/08/2024</td></tr></tbody></table><figcaption class="wp-element-caption">Historic updates </figcaption></figure>
</details>
<table class="has-black-color has-text-color"><thead><tr><th class="has-text-align-left" data-align="left"><strong><strong>Historic Updates</strong></strong></th><th class="has-text-align-left" data-align="left"><strong>Date</strong></th></tr></thead><tbody><tr><td class="has-text-align-left" data-align="left">New DSM7.2 Container Manager Update</td><td class="has-text-align-left" data-align="left">01/05/2023</td></tr><tr><td class="has-text-align-left" data-align="left">Guide rewritten moving to a Project rather than the slower method via the UI giving you more flexibility. Also includes updates to improve security which is only possible via projects.</td><td class="has-text-align-left" data-align="left">25/10/2023</td></tr><tr><td class="has-text-align-left" data-align="left">Somehow at some point a paragraph about forwarding port 32400 went missing, I had never added it! But it’s in now!!</td><td class="has-text-align-left" data-align="left">13/06/2024</td></tr><tr><td class="has-text-align-left" data-align="left">Changed ‘version’ variable to ‘docker’ this will stop in container server updates!</td><td class="has-text-align-left" data-align="left">01/07/2024</td></tr><tr><td class="has-text-align-left" data-align="left">Reworded the first section to check around whether you have a hardware capable NAS and to follow the other guide even if you don’t have a Plex Pass. </td><td class="has-text-align-left" data-align="left">08/08/2024</td></tr></tbody></table>
<p></p>
<p>In this guide I am going to take you through the setup of Plex in Container Manager.</p>
<h3 class="wp-block-heading" id="does-my-synology-support-hardware-transcoding">Does my Synology support Hardware Transcoding?</h3>
<p>Before we do anything else, you should see if your model of Synology has hardware transcoding capabilities even if you don’t plan on using them at the moment! You need to do a quick lookup via the linked Google Sheet below, this is updated by Plex and makes it super easy to look up your model of NAS.</p>
<ul class="wp-block-list">
<li><a href="https://docs.google.com/spreadsheets/d/1MfYoJkiwSqCXg8cm5-Ac4oOLPRtCkgUxU0jdj3tmMPc" rel="noreferrer noopener" target="_blank">This great Google Sheet officially updated by Plex</a></li>
</ul>
<p>If you find that hardware transcoding is not available you can continue following the guide here, if it does support it, and you plan on buying a Plex Pass in the future follow the other guide from the menu.</p>
<h3 class="wp-block-heading" id="lets-begin">Let’s Begin</h3>
<p>In order to use this guide successfully you will need to complete the two preceding guides which will get your folder structure and Docker, user setup. In addition, if you already have the original Synology Plex Package installed you will need to uninstall it first. </p>
<ul class="wp-block-list">
<li><a href="https://drfrankenstein.co.uk/step-1-directory-setup-guide-2/">Step 1: Directory Setup Guide</a></li>
<li><a href="https://drfrankenstein.co.uk/?page_id=1173">Step 2: Setting up a restricted Docker user</a></li>
</ul>
<h3 class="wp-block-heading">Folder Setup</h3>
<p>Let’s start by getting some folders set up for the container to use. Open up File Station create the following.</p>
<pre class="shiki nord" style="background-color: #2e3440ff" tabindex="0"><code><span class="line"><span style="color: #d8dee9ff">/docker/projects/plex-compose</span></span>
<span class="line"><span style="color: #d8dee9ff">/docker/plex</span></span></code></pre>
<code><span class="line"><span style="color: #d8dee9ff">/docker/projects/plex-compose</span></span>
<span class="line"><span style="color: #d8dee9ff">/docker/plex</span></span></code>
<p></p>
<p></p>
<h3 class="wp-block-heading" id="docker-compose">Container Manager</h3>
<p>Next we are going to set up a ‘Project’ in Container Manager. Open up Container Manager and click on Project then on the right-hand side click ‘Create’.</p>
<p></p>
<p>In the next screen we will set up our General Settings, enter the following:</p>
<p></p>
<table><thead><tr><th class="has-text-align-left" data-align="left">Section</th><th class="has-text-align-left" data-align="left">Setting</th></tr></thead><tbody><tr><td class="has-text-align-left" data-align="left">Project Name:</td><td class="has-text-align-left" data-align="left">plex</td></tr><tr><td class="has-text-align-left" data-align="left">Path:</td><td class="has-text-align-left" data-align="left">/docker/projects/plex-compose</td></tr><tr><td class="has-text-align-left" data-align="left">Source:</td><td class="has-text-align-left" data-align="left">Create docker-compose.yml</td></tr></tbody></table>
<p></p>
<p>Next we are going to drop in our docker compose configuration copy all the code in the box below and paste it into line ‘1’ just like the screenshot.</p>
<pre class="wp-block-preformatted preformatted has-very-light-gray-to-cyan-bluish-gray-gradient-background has-background"><strong>What on earth is a Docker Compose?</strong>
Docker Compose allows us to define how Docker should set up one or more containers within a single configuration file. This file is yaml formatted and Container Manager uses the Projects feature to manage them.</pre>
<p></p>
<pre class="shiki nord" style="background-color: #2e3440ff" tabindex="0"><code><span class="line"><span style="color: #8FBCBB">services</span><span style="color: #ECEFF4">:</span></span>
<span class="line"><span style="color: #D8DEE9FF">  </span><span style="color: #8FBCBB">plex</span><span style="color: #ECEFF4">:</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">image</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">linuxserver/plex</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">container_name</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">plex</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">network_mode</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">host</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">environment</span><span style="color: #ECEFF4">:</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">PUID=1234</span><span style="color: #D8DEE9FF"> </span><span style="color: #616E88">#CHANGE_TO_YOUR_UID</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">PGID=65432</span><span style="color: #D8DEE9FF"> </span><span style="color: #616E88">#CHANGE_TO_YOUR_GID</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">TZ=Europe/London</span><span style="color: #D8DEE9FF"> </span><span style="color: #616E88">#CHANGE_TO_YOUR_TZ</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">UMASK=022</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">VERSION=docker</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">PLEX_CLAIM=</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">volumes</span><span style="color: #ECEFF4">:</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">/volume1/docker/plex:/config</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">/volume1/data/media:/data/media</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">security_opt</span><span style="color: #ECEFF4">:</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">no-new-privileges:true</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">restart</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">unless-stopped</span></span></code></pre>
<code><span class="line"><span style="color: #8FBCBB">services</span><span style="color: #ECEFF4">:</span></span>
<span class="line"><span style="color: #D8DEE9FF">  </span><span style="color: #8FBCBB">plex</span><span style="color: #ECEFF4">:</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">image</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">linuxserver/plex</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">container_name</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">plex</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">network_mode</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">host</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">environment</span><span style="color: #ECEFF4">:</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">PUID=1234</span><span style="color: #D8DEE9FF"> </span><span style="color: #616E88">#CHANGE_TO_YOUR_UID</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">PGID=65432</span><span style="color: #D8DEE9FF"> </span><span style="color: #616E88">#CHANGE_TO_YOUR_GID</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">TZ=Europe/London</span><span style="color: #D8DEE9FF"> </span><span style="color: #616E88">#CHANGE_TO_YOUR_TZ</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">UMASK=022</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">VERSION=docker</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">PLEX_CLAIM=</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">volumes</span><span style="color: #ECEFF4">:</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">/volume1/docker/plex:/config</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">/volume1/data/media:/data/media</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">security_opt</span><span style="color: #ECEFF4">:</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">no-new-privileges:true</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">restart</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">unless-stopped</span></span></code>
<p></p>
<h3 class="wp-block-heading">A note on Network Mode</h3>
<p>You will notice that for Plex we don’t put it on the normal bridge network, this is because DSM reserves the DLNA ports Plex requires in order to use DLNA. So we run in Host mode, so it can share the ports. </p>
<h3 class="wp-block-heading" id="environment-variables">Environment Variables</h3>
<p>We need to make some changes in order for the container to have the correct permissions to save its configuration files  and to have access to your media.</p>
<table><thead><tr><th>Variable</th><th>Value</th></tr></thead><tbody><tr><td>PUID</td><td>(required) The UID you obtained in the user setup guide</td></tr><tr><td>PGID</td><td>(required) The GID you obtained in the user setup guide</td></tr><tr><td>TZ</td><td>(required) Your timezone <a href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones">wikipedia.org/wiki/List_of_tz_database_time_zones</a></td></tr><tr><td>PLEX_CLAIM</td><td>Please note the PLEX_CLAIM variable is optional and not always required. You can remove this line if you don’t need it or come back and add it if you are unable to sign in to your server on start up.<br/><br/>To get the code go to https://plex.tv/claim and sign in, then put the code you receive after the ‘PLEX_CLAIM=’. You have 4 mins to finish the guide after doing this, so best to grab it just before running the project.</td></tr></tbody></table>
<p></p>
<h3 class="wp-block-heading" id="volumes"><strong>Volumes</strong></h3>
<p>I have pre-filled this section to pass the correct paths, the only thing that you may need to change is the /volume1/ if your file paths are on a different volume.</p>
<p>Click ‘Next’</p>
<p>You do not need to enable anything on the ‘Web portal settings’ screen click ‘Next’ again.</p>
<p></p>
<p>On the final screen click ‘Done’ which will begin the download of the container images and once downloaded they will be launched!</p>
<p></p>
<p>The image will now be downloaded and extracted. You should see ‘Code 0’ when it has finished.</p>
<p></p>
<p>You will now see your Plex running and should have a green status on the left-hand side.</p>
<p></p>
<h3 class="wp-block-heading">Firewall Exceptions<br/></h3>
<h4 class="wp-block-heading">(Skip if you don’t have the Firewall configured)</h4>
<p>If you have the Synology Firewall enabled please see <a data-id="7730" data-type="page" href="https://drfrankenstein.co.uk/firewall-general-setup-and-exceptions/">this additional guide</a> for further info on exceptions and correct set up.</p>
<p></p>
<h3 class="wp-block-heading">Port Forwarding</h3>
<p>In order to use Plex remotely and stream your local media you need to forward port 32400 from your Router to the NAS IP on the same port. This varies for everyone’s router so check the manual on how to do this. </p>
<p></p>
<h3 class="wp-block-heading" id="initial-plex-setup">Initial Plex Setup</h3>
<p>After a few minutes you should be able to access the server and go through the Plex setup by going to the IP of your NAS in your browser followed by port 32400/web/</p>
<p>e.g. 192.168.0.45:32400/web/</p>
<p>You will be asked to sign in or sign up for an account if you don’t have one already.</p>
<p>You should now be able to add your media which will be in the /data folder within Plex</p>
<p>That’s it you are all setup. When a new server update is available you will just need to restart the container, and it will automatically download the latest update.</p>
<h3 class="wp-block-heading">Looking for some help, join our Discord community</h3>
<p>If you are struggling with any steps in the  guides or looking to branch out into other containers join our Discord community!</p>
<h3 class="wp-block-heading">Buy me a beverage!</h3>
<p>If you have found my site useful please consider pinging me a tip as it helps cover the cost of running things or just lets me stay hydrated. Plus 10% goes to the devs of the apps I do guides for every year.</p>
<p></p>
<p></p>


================================================================================

Title: Plex in Docker on a Synology NAS (No Hardware Transcoding)
URL: https://drfrankenstein.co.uk/plex-in-container-manager-on-a-synology-nas-no-hardware-transcoding/#main

<details class="wp-block-details has-vivid-red-color has-text-color has-regular-font-size is-layout-flow wp-block-details-is-layout-flow"><summary>Important or Recent Updates</summary>
<figure class="wp-block-table is-style-stripes"><table class="has-black-color has-text-color"><thead><tr><th class="has-text-align-left" data-align="left"><strong><strong>Historic Updates</strong></strong></th><th class="has-text-align-left" data-align="left"><strong>Date</strong></th></tr></thead><tbody><tr><td class="has-text-align-left" data-align="left">New DSM7.2 Container Manager Update</td><td class="has-text-align-left" data-align="left">01/05/2023</td></tr><tr><td class="has-text-align-left" data-align="left">Guide rewritten moving to a Project rather than the slower method via the UI giving you more flexibility. Also includes updates to improve security which is only possible via projects.</td><td class="has-text-align-left" data-align="left">25/10/2023</td></tr><tr><td class="has-text-align-left" data-align="left">Somehow at some point a paragraph about forwarding port 32400 went missing, I had never added it! But it’s in now!!</td><td class="has-text-align-left" data-align="left">13/06/2024</td></tr><tr><td class="has-text-align-left" data-align="left">Changed ‘version’ variable to ‘docker’ this will stop in container server updates!</td><td class="has-text-align-left" data-align="left">01/07/2024</td></tr><tr><td class="has-text-align-left" data-align="left">Reworded the first section to check around whether you have a hardware capable NAS and to follow the other guide even if you don’t have a Plex Pass. </td><td class="has-text-align-left" data-align="left">08/08/2024</td></tr></tbody></table><figcaption class="wp-element-caption">Historic updates </figcaption></figure>
</details>
<table class="has-black-color has-text-color"><thead><tr><th class="has-text-align-left" data-align="left"><strong><strong>Historic Updates</strong></strong></th><th class="has-text-align-left" data-align="left"><strong>Date</strong></th></tr></thead><tbody><tr><td class="has-text-align-left" data-align="left">New DSM7.2 Container Manager Update</td><td class="has-text-align-left" data-align="left">01/05/2023</td></tr><tr><td class="has-text-align-left" data-align="left">Guide rewritten moving to a Project rather than the slower method via the UI giving you more flexibility. Also includes updates to improve security which is only possible via projects.</td><td class="has-text-align-left" data-align="left">25/10/2023</td></tr><tr><td class="has-text-align-left" data-align="left">Somehow at some point a paragraph about forwarding port 32400 went missing, I had never added it! But it’s in now!!</td><td class="has-text-align-left" data-align="left">13/06/2024</td></tr><tr><td class="has-text-align-left" data-align="left">Changed ‘version’ variable to ‘docker’ this will stop in container server updates!</td><td class="has-text-align-left" data-align="left">01/07/2024</td></tr><tr><td class="has-text-align-left" data-align="left">Reworded the first section to check around whether you have a hardware capable NAS and to follow the other guide even if you don’t have a Plex Pass. </td><td class="has-text-align-left" data-align="left">08/08/2024</td></tr></tbody></table>
<p></p>
<p>In this guide I am going to take you through the setup of Plex in Container Manager.</p>
<h3 class="wp-block-heading" id="does-my-synology-support-hardware-transcoding">Does my Synology support Hardware Transcoding?</h3>
<p>Before we do anything else, you should see if your model of Synology has hardware transcoding capabilities even if you don’t plan on using them at the moment! You need to do a quick lookup via the linked Google Sheet below, this is updated by Plex and makes it super easy to look up your model of NAS.</p>
<ul class="wp-block-list">
<li><a href="https://docs.google.com/spreadsheets/d/1MfYoJkiwSqCXg8cm5-Ac4oOLPRtCkgUxU0jdj3tmMPc" rel="noreferrer noopener" target="_blank">This great Google Sheet officially updated by Plex</a></li>
</ul>
<p>If you find that hardware transcoding is not available you can continue following the guide here, if it does support it, and you plan on buying a Plex Pass in the future follow the other guide from the menu.</p>
<h3 class="wp-block-heading" id="lets-begin">Let’s Begin</h3>
<p>In order to use this guide successfully you will need to complete the two preceding guides which will get your folder structure and Docker, user setup. In addition, if you already have the original Synology Plex Package installed you will need to uninstall it first. </p>
<ul class="wp-block-list">
<li><a href="https://drfrankenstein.co.uk/step-1-directory-setup-guide-2/">Step 1: Directory Setup Guide</a></li>
<li><a href="https://drfrankenstein.co.uk/?page_id=1173">Step 2: Setting up a restricted Docker user</a></li>
</ul>
<h3 class="wp-block-heading">Folder Setup</h3>
<p>Let’s start by getting some folders set up for the container to use. Open up File Station create the following.</p>
<pre class="shiki nord" style="background-color: #2e3440ff" tabindex="0"><code><span class="line"><span style="color: #d8dee9ff">/docker/projects/plex-compose</span></span>
<span class="line"><span style="color: #d8dee9ff">/docker/plex</span></span></code></pre>
<code><span class="line"><span style="color: #d8dee9ff">/docker/projects/plex-compose</span></span>
<span class="line"><span style="color: #d8dee9ff">/docker/plex</span></span></code>
<p></p>
<p></p>
<h3 class="wp-block-heading" id="docker-compose">Container Manager</h3>
<p>Next we are going to set up a ‘Project’ in Container Manager. Open up Container Manager and click on Project then on the right-hand side click ‘Create’.</p>
<p></p>
<p>In the next screen we will set up our General Settings, enter the following:</p>
<p></p>
<table><thead><tr><th class="has-text-align-left" data-align="left">Section</th><th class="has-text-align-left" data-align="left">Setting</th></tr></thead><tbody><tr><td class="has-text-align-left" data-align="left">Project Name:</td><td class="has-text-align-left" data-align="left">plex</td></tr><tr><td class="has-text-align-left" data-align="left">Path:</td><td class="has-text-align-left" data-align="left">/docker/projects/plex-compose</td></tr><tr><td class="has-text-align-left" data-align="left">Source:</td><td class="has-text-align-left" data-align="left">Create docker-compose.yml</td></tr></tbody></table>
<p></p>
<p>Next we are going to drop in our docker compose configuration copy all the code in the box below and paste it into line ‘1’ just like the screenshot.</p>
<pre class="wp-block-preformatted preformatted has-very-light-gray-to-cyan-bluish-gray-gradient-background has-background"><strong>What on earth is a Docker Compose?</strong>
Docker Compose allows us to define how Docker should set up one or more containers within a single configuration file. This file is yaml formatted and Container Manager uses the Projects feature to manage them.</pre>
<p></p>
<pre class="shiki nord" style="background-color: #2e3440ff" tabindex="0"><code><span class="line"><span style="color: #8FBCBB">services</span><span style="color: #ECEFF4">:</span></span>
<span class="line"><span style="color: #D8DEE9FF">  </span><span style="color: #8FBCBB">plex</span><span style="color: #ECEFF4">:</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">image</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">linuxserver/plex</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">container_name</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">plex</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">network_mode</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">host</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">environment</span><span style="color: #ECEFF4">:</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">PUID=1234</span><span style="color: #D8DEE9FF"> </span><span style="color: #616E88">#CHANGE_TO_YOUR_UID</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">PGID=65432</span><span style="color: #D8DEE9FF"> </span><span style="color: #616E88">#CHANGE_TO_YOUR_GID</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">TZ=Europe/London</span><span style="color: #D8DEE9FF"> </span><span style="color: #616E88">#CHANGE_TO_YOUR_TZ</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">UMASK=022</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">VERSION=docker</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">PLEX_CLAIM=</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">volumes</span><span style="color: #ECEFF4">:</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">/volume1/docker/plex:/config</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">/volume1/data/media:/data/media</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">security_opt</span><span style="color: #ECEFF4">:</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">no-new-privileges:true</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">restart</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">unless-stopped</span></span></code></pre>
<code><span class="line"><span style="color: #8FBCBB">services</span><span style="color: #ECEFF4">:</span></span>
<span class="line"><span style="color: #D8DEE9FF">  </span><span style="color: #8FBCBB">plex</span><span style="color: #ECEFF4">:</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">image</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">linuxserver/plex</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">container_name</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">plex</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">network_mode</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">host</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">environment</span><span style="color: #ECEFF4">:</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">PUID=1234</span><span style="color: #D8DEE9FF"> </span><span style="color: #616E88">#CHANGE_TO_YOUR_UID</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">PGID=65432</span><span style="color: #D8DEE9FF"> </span><span style="color: #616E88">#CHANGE_TO_YOUR_GID</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">TZ=Europe/London</span><span style="color: #D8DEE9FF"> </span><span style="color: #616E88">#CHANGE_TO_YOUR_TZ</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">UMASK=022</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">VERSION=docker</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">PLEX_CLAIM=</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">volumes</span><span style="color: #ECEFF4">:</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">/volume1/docker/plex:/config</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">/volume1/data/media:/data/media</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">security_opt</span><span style="color: #ECEFF4">:</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">no-new-privileges:true</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">restart</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">unless-stopped</span></span></code>
<p></p>
<h3 class="wp-block-heading">A note on Network Mode</h3>
<p>You will notice that for Plex we don’t put it on the normal bridge network, this is because DSM reserves the DLNA ports Plex requires in order to use DLNA. So we run in Host mode, so it can share the ports. </p>
<h3 class="wp-block-heading" id="environment-variables">Environment Variables</h3>
<p>We need to make some changes in order for the container to have the correct permissions to save its configuration files  and to have access to your media.</p>
<table><thead><tr><th>Variable</th><th>Value</th></tr></thead><tbody><tr><td>PUID</td><td>(required) The UID you obtained in the user setup guide</td></tr><tr><td>PGID</td><td>(required) The GID you obtained in the user setup guide</td></tr><tr><td>TZ</td><td>(required) Your timezone <a href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones">wikipedia.org/wiki/List_of_tz_database_time_zones</a></td></tr><tr><td>PLEX_CLAIM</td><td>Please note the PLEX_CLAIM variable is optional and not always required. You can remove this line if you don’t need it or come back and add it if you are unable to sign in to your server on start up.<br/><br/>To get the code go to https://plex.tv/claim and sign in, then put the code you receive after the ‘PLEX_CLAIM=’. You have 4 mins to finish the guide after doing this, so best to grab it just before running the project.</td></tr></tbody></table>
<p></p>
<h3 class="wp-block-heading" id="volumes"><strong>Volumes</strong></h3>
<p>I have pre-filled this section to pass the correct paths, the only thing that you may need to change is the /volume1/ if your file paths are on a different volume.</p>
<p>Click ‘Next’</p>
<p>You do not need to enable anything on the ‘Web portal settings’ screen click ‘Next’ again.</p>
<p></p>
<p>On the final screen click ‘Done’ which will begin the download of the container images and once downloaded they will be launched!</p>
<p></p>
<p>The image will now be downloaded and extracted. You should see ‘Code 0’ when it has finished.</p>
<p></p>
<p>You will now see your Plex running and should have a green status on the left-hand side.</p>
<p></p>
<h3 class="wp-block-heading">Firewall Exceptions<br/></h3>
<h4 class="wp-block-heading">(Skip if you don’t have the Firewall configured)</h4>
<p>If you have the Synology Firewall enabled please see <a data-id="7730" data-type="page" href="https://drfrankenstein.co.uk/firewall-general-setup-and-exceptions/">this additional guide</a> for further info on exceptions and correct set up.</p>
<p></p>
<h3 class="wp-block-heading">Port Forwarding</h3>
<p>In order to use Plex remotely and stream your local media you need to forward port 32400 from your Router to the NAS IP on the same port. This varies for everyone’s router so check the manual on how to do this. </p>
<p></p>
<h3 class="wp-block-heading" id="initial-plex-setup">Initial Plex Setup</h3>
<p>After a few minutes you should be able to access the server and go through the Plex setup by going to the IP of your NAS in your browser followed by port 32400/web/</p>
<p>e.g. 192.168.0.45:32400/web/</p>
<p>You will be asked to sign in or sign up for an account if you don’t have one already.</p>
<p>You should now be able to add your media which will be in the /data folder within Plex</p>
<p>That’s it you are all setup. When a new server update is available you will just need to restart the container, and it will automatically download the latest update.</p>
<h3 class="wp-block-heading">Looking for some help, join our Discord community</h3>
<p>If you are struggling with any steps in the  guides or looking to branch out into other containers join our Discord community!</p>
<h3 class="wp-block-heading">Buy me a beverage!</h3>
<p>If you have found my site useful please consider pinging me a tip as it helps cover the cost of running things or just lets me stay hydrated. Plus 10% goes to the devs of the apps I do guides for every year.</p>
<p></p>
<p></p>


================================================================================

Title: Plex in Docker on a Synology NAS (No Hardware Transcoding)
URL: https://drfrankenstein.co.uk/plex-in-container-manager-on-a-synology-nas-no-hardware-transcoding/#respond

<details class="wp-block-details has-vivid-red-color has-text-color has-regular-font-size is-layout-flow wp-block-details-is-layout-flow"><summary>Important or Recent Updates</summary>
<figure class="wp-block-table is-style-stripes"><table class="has-black-color has-text-color"><thead><tr><th class="has-text-align-left" data-align="left"><strong><strong>Historic Updates</strong></strong></th><th class="has-text-align-left" data-align="left"><strong>Date</strong></th></tr></thead><tbody><tr><td class="has-text-align-left" data-align="left">New DSM7.2 Container Manager Update</td><td class="has-text-align-left" data-align="left">01/05/2023</td></tr><tr><td class="has-text-align-left" data-align="left">Guide rewritten moving to a Project rather than the slower method via the UI giving you more flexibility. Also includes updates to improve security which is only possible via projects.</td><td class="has-text-align-left" data-align="left">25/10/2023</td></tr><tr><td class="has-text-align-left" data-align="left">Somehow at some point a paragraph about forwarding port 32400 went missing, I had never added it! But it’s in now!!</td><td class="has-text-align-left" data-align="left">13/06/2024</td></tr><tr><td class="has-text-align-left" data-align="left">Changed ‘version’ variable to ‘docker’ this will stop in container server updates!</td><td class="has-text-align-left" data-align="left">01/07/2024</td></tr><tr><td class="has-text-align-left" data-align="left">Reworded the first section to check around whether you have a hardware capable NAS and to follow the other guide even if you don’t have a Plex Pass. </td><td class="has-text-align-left" data-align="left">08/08/2024</td></tr></tbody></table><figcaption class="wp-element-caption">Historic updates </figcaption></figure>
</details>
<table class="has-black-color has-text-color"><thead><tr><th class="has-text-align-left" data-align="left"><strong><strong>Historic Updates</strong></strong></th><th class="has-text-align-left" data-align="left"><strong>Date</strong></th></tr></thead><tbody><tr><td class="has-text-align-left" data-align="left">New DSM7.2 Container Manager Update</td><td class="has-text-align-left" data-align="left">01/05/2023</td></tr><tr><td class="has-text-align-left" data-align="left">Guide rewritten moving to a Project rather than the slower method via the UI giving you more flexibility. Also includes updates to improve security which is only possible via projects.</td><td class="has-text-align-left" data-align="left">25/10/2023</td></tr><tr><td class="has-text-align-left" data-align="left">Somehow at some point a paragraph about forwarding port 32400 went missing, I had never added it! But it’s in now!!</td><td class="has-text-align-left" data-align="left">13/06/2024</td></tr><tr><td class="has-text-align-left" data-align="left">Changed ‘version’ variable to ‘docker’ this will stop in container server updates!</td><td class="has-text-align-left" data-align="left">01/07/2024</td></tr><tr><td class="has-text-align-left" data-align="left">Reworded the first section to check around whether you have a hardware capable NAS and to follow the other guide even if you don’t have a Plex Pass. </td><td class="has-text-align-left" data-align="left">08/08/2024</td></tr></tbody></table>
<p></p>
<p>In this guide I am going to take you through the setup of Plex in Container Manager.</p>
<h3 class="wp-block-heading" id="does-my-synology-support-hardware-transcoding">Does my Synology support Hardware Transcoding?</h3>
<p>Before we do anything else, you should see if your model of Synology has hardware transcoding capabilities even if you don’t plan on using them at the moment! You need to do a quick lookup via the linked Google Sheet below, this is updated by Plex and makes it super easy to look up your model of NAS.</p>
<ul class="wp-block-list">
<li><a href="https://docs.google.com/spreadsheets/d/1MfYoJkiwSqCXg8cm5-Ac4oOLPRtCkgUxU0jdj3tmMPc" rel="noreferrer noopener" target="_blank">This great Google Sheet officially updated by Plex</a></li>
</ul>
<p>If you find that hardware transcoding is not available you can continue following the guide here, if it does support it, and you plan on buying a Plex Pass in the future follow the other guide from the menu.</p>
<h3 class="wp-block-heading" id="lets-begin">Let’s Begin</h3>
<p>In order to use this guide successfully you will need to complete the two preceding guides which will get your folder structure and Docker, user setup. In addition, if you already have the original Synology Plex Package installed you will need to uninstall it first. </p>
<ul class="wp-block-list">
<li><a href="https://drfrankenstein.co.uk/step-1-directory-setup-guide-2/">Step 1: Directory Setup Guide</a></li>
<li><a href="https://drfrankenstein.co.uk/?page_id=1173">Step 2: Setting up a restricted Docker user</a></li>
</ul>
<h3 class="wp-block-heading">Folder Setup</h3>
<p>Let’s start by getting some folders set up for the container to use. Open up File Station create the following.</p>
<pre class="shiki nord" style="background-color: #2e3440ff" tabindex="0"><code><span class="line"><span style="color: #d8dee9ff">/docker/projects/plex-compose</span></span>
<span class="line"><span style="color: #d8dee9ff">/docker/plex</span></span></code></pre>
<code><span class="line"><span style="color: #d8dee9ff">/docker/projects/plex-compose</span></span>
<span class="line"><span style="color: #d8dee9ff">/docker/plex</span></span></code>
<p></p>
<p></p>
<h3 class="wp-block-heading" id="docker-compose">Container Manager</h3>
<p>Next we are going to set up a ‘Project’ in Container Manager. Open up Container Manager and click on Project then on the right-hand side click ‘Create’.</p>
<p></p>
<p>In the next screen we will set up our General Settings, enter the following:</p>
<p></p>
<table><thead><tr><th class="has-text-align-left" data-align="left">Section</th><th class="has-text-align-left" data-align="left">Setting</th></tr></thead><tbody><tr><td class="has-text-align-left" data-align="left">Project Name:</td><td class="has-text-align-left" data-align="left">plex</td></tr><tr><td class="has-text-align-left" data-align="left">Path:</td><td class="has-text-align-left" data-align="left">/docker/projects/plex-compose</td></tr><tr><td class="has-text-align-left" data-align="left">Source:</td><td class="has-text-align-left" data-align="left">Create docker-compose.yml</td></tr></tbody></table>
<p></p>
<p>Next we are going to drop in our docker compose configuration copy all the code in the box below and paste it into line ‘1’ just like the screenshot.</p>
<pre class="wp-block-preformatted preformatted has-very-light-gray-to-cyan-bluish-gray-gradient-background has-background"><strong>What on earth is a Docker Compose?</strong>
Docker Compose allows us to define how Docker should set up one or more containers within a single configuration file. This file is yaml formatted and Container Manager uses the Projects feature to manage them.</pre>
<p></p>
<pre class="shiki nord" style="background-color: #2e3440ff" tabindex="0"><code><span class="line"><span style="color: #8FBCBB">services</span><span style="color: #ECEFF4">:</span></span>
<span class="line"><span style="color: #D8DEE9FF">  </span><span style="color: #8FBCBB">plex</span><span style="color: #ECEFF4">:</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">image</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">linuxserver/plex</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">container_name</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">plex</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">network_mode</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">host</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">environment</span><span style="color: #ECEFF4">:</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">PUID=1234</span><span style="color: #D8DEE9FF"> </span><span style="color: #616E88">#CHANGE_TO_YOUR_UID</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">PGID=65432</span><span style="color: #D8DEE9FF"> </span><span style="color: #616E88">#CHANGE_TO_YOUR_GID</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">TZ=Europe/London</span><span style="color: #D8DEE9FF"> </span><span style="color: #616E88">#CHANGE_TO_YOUR_TZ</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">UMASK=022</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">VERSION=docker</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">PLEX_CLAIM=</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">volumes</span><span style="color: #ECEFF4">:</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">/volume1/docker/plex:/config</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">/volume1/data/media:/data/media</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">security_opt</span><span style="color: #ECEFF4">:</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">no-new-privileges:true</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">restart</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">unless-stopped</span></span></code></pre>
<code><span class="line"><span style="color: #8FBCBB">services</span><span style="color: #ECEFF4">:</span></span>
<span class="line"><span style="color: #D8DEE9FF">  </span><span style="color: #8FBCBB">plex</span><span style="color: #ECEFF4">:</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">image</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">linuxserver/plex</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">container_name</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">plex</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">network_mode</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">host</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">environment</span><span style="color: #ECEFF4">:</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">PUID=1234</span><span style="color: #D8DEE9FF"> </span><span style="color: #616E88">#CHANGE_TO_YOUR_UID</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">PGID=65432</span><span style="color: #D8DEE9FF"> </span><span style="color: #616E88">#CHANGE_TO_YOUR_GID</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">TZ=Europe/London</span><span style="color: #D8DEE9FF"> </span><span style="color: #616E88">#CHANGE_TO_YOUR_TZ</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">UMASK=022</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">VERSION=docker</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">PLEX_CLAIM=</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">volumes</span><span style="color: #ECEFF4">:</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">/volume1/docker/plex:/config</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">/volume1/data/media:/data/media</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">security_opt</span><span style="color: #ECEFF4">:</span></span>
<span class="line"><span style="color: #D8DEE9FF">      </span><span style="color: #ECEFF4">-</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">no-new-privileges:true</span></span>
<span class="line"><span style="color: #D8DEE9FF">    </span><span style="color: #8FBCBB">restart</span><span style="color: #ECEFF4">:</span><span style="color: #D8DEE9FF"> </span><span style="color: #A3BE8C">unless-stopped</span></span></code>
<p></p>
<h3 class="wp-block-heading">A note on Network Mode</h3>
<p>You will notice that for Plex we don’t put it on the normal bridge network, this is because DSM reserves the DLNA ports Plex requires in order to use DLNA. So we run in Host mode, so it can share the ports. </p>
<h3 class="wp-block-heading" id="environment-variables">Environment Variables</h3>
<p>We need to make some changes in order for the container to have the correct permissions to save its configuration files  and to have access to your media.</p>
<table><thead><tr><th>Variable</th><th>Value</th></tr></thead><tbody><tr><td>PUID</td><td>(required) The UID you obtained in the user setup guide</td></tr><tr><td>PGID</td><td>(required) The GID you obtained in the user setup guide</td></tr><tr><td>TZ</td><td>(required) Your timezone <a href="https://en.wikipedia.org/wiki/List_of_tz_database_time_zones">wikipedia.org/wiki/List_of_tz_database_time_zones</a></td></tr><tr><td>PLEX_CLAIM</td><td>Please note the PLEX_CLAIM variable is optional and not always required. You can remove this line if you don’t need it or come back and add it if you are unable to sign in to your server on start up.<br/><br/>To get the code go to https://plex.tv/claim and sign in, then put the code you receive after the ‘PLEX_CLAIM=’. You have 4 mins to finish the guide after doing this, so best to grab it just before running the project.</td></tr></tbody></table>
<p></p>
<h3 class="wp-block-heading" id="volumes"><strong>Volumes</strong></h3>
<p>I have pre-filled this section to pass the correct paths, the only thing that you may need to change is the /volume1/ if your file paths are on a different volume.</p>
<p>Click ‘Next’</p>
<p>You do not need to enable anything on the ‘Web portal settings’ screen click ‘Next’ again.</p>
<p></p>
<p>On the final screen click ‘Done’ which will begin the download of the container images and once downloaded they will be launched!</p>
<p></p>
<p>The image will now be downloaded and extracted. You should see ‘Code 0’ when it has finished.</p>
<p></p>
<p>You will now see your Plex running and should have a green status on the left-hand side.</p>
<p></p>
<h3 class="wp-block-heading">Firewall Exceptions<br/></h3>
<h4 class="wp-block-heading">(Skip if you don’t have the Firewall configured)</h4>
<p>If you have the Synology Firewall enabled please see <a data-id="7730" data-type="page" href="https://drfrankenstein.co.uk/firewall-general-setup-and-exceptions/">this additional guide</a> for further info on exceptions and correct set up.</p>
<p></p>
<h3 class="wp-block-heading">Port Forwarding</h3>
<p>In order to use Plex remotely and stream your local media you need to forward port 32400 from your Router to the NAS IP on the same port. This varies for everyone’s router so check the manual on how to do this. </p>
<p></p>
<h3 class="wp-block-heading" id="initial-plex-setup">Initial Plex Setup</h3>
<p>After a few minutes you should be able to access the server and go through the Plex setup by going to the IP of your NAS in your browser followed by port 32400/web/</p>
<p>e.g. 192.168.0.45:32400/web/</p>
<p>You will be asked to sign in or sign up for an account if you don’t have one already.</p>
<p>You should now be able to add your media which will be in the /data folder within Plex</p>
<p>That’s it you are all setup. When a new server update is available you will just need to restart the container, and it will automatically download the latest update.</p>
<h3 class="wp-block-heading">Looking for some help, join our Discord community</h3>
<p>If you are struggling with any steps in the  guides or looking to branch out into other containers join our Discord community!</p>
<h3 class="wp-block-heading">Buy me a beverage!</h3>
<p>If you have found my site useful please consider pinging me a tip as it helps cover the cost of running things or just lets me stay hydrated. Plus 10% goes to the devs of the apps I do guides for every year.</p>
<p></p>
<p></p>


================================================================================

